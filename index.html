<html>
<head>
    <meta charset="utf-8" />
    <meta property="og:title" content="Your Infinity" />
    <meta property="og:description" content="O Teu Baile de Gala!" />
    <meta property="og:image" content="images/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="assets/css/style.css" /> <!-- Estilos adicionais em uma aba separada -->
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.min.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link rel="icon" href="images/favicon.svg" type="image/x-icon" />
    <link rel="shortcut icon" href="images/favicon.svg" type="image/x-icon" />
    <title>Your Infinity</title>
</head>
<body class="is-preload">
    <!-- Header -->
    <header id="header">
        <div class="content">
            <img src="images/logo-site.svg" alt="logo" id="logo" />
            <div class="horizontal-line"></div>
            <p>Bailes de Gala</p>
            <ul class="actions">
                <li style="width: 140px;"></li>
                <li><a href="#one" class="button icon solid fa-chevron-down scrolly">Inscreve-te</a></li>
            </ul>
        </div>
        <div class="image phone">
            <div class="inner">
                <video id="videobaile" src="images/Video_Baile_Finalistas.mp4" alt="" autoplay loop muted></video>
            </div>
        </div>
    </header>

    <!-- One -->
    <section id="one" class="wrapper style2 special">
        <h1>INSCREVE-TE!</h1>
        <form id="signupForm" method="post" onsubmit="return validarpost()">
            <label for="school">Seleciona a tua escola:</label>
            <select id="school" name="school" required>
                <option value="" disabled selected style="color: gray;">Escolha uma opção</option>
                <option value="Amadeu Gaudencio">Básica e Secundária Amadeu Gaudêncio</option>
                <option value="D. Inês de Castro">D. Inês de Castro</option>
                <option value="Externato Benedita">Externato Benedita</option>
            </select>

            <label for="name">Nome Completo:</label>
            <input type="text" id="name" name="name" required>

            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Número de Telefone:</label>
            <div class="phone-container">
                <input type="tel" id="phone" name="phone" required>
            </div>
            <input type="hidden" id="countryCode" name="countryCode">

            <div class="g-recaptcha" id="rcaptcha" data-sitekey="6LdJLpgqAAAAAFTT1kzO8bFZQ-7cisrxS6DqFjt6"></div>
            <span id="captcha" style="color:rgb(0, 0, 0)"></span>

            <button type="submit">Enviar</button>
        </form>
    </section>

    <footer id="footer">
        <ul class="icons">
            <li><a href="mailto:gerall@stagelink.pt" class="icon solid fa-envelope"><span class="label">E-mail</span></a></li>
            <li><a href="https://www.facebook.com/stagelink.pt" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
            <li><a href="https://www.instagram.com/stagelink.pt" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
        </ul>
        <p class="copyright">&copy; Stagelink.</p>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script>
        window.addEventListener('load', function () {
            var video = document.getElementById('videobaile');
            video.currentTime = 27;
        });

        const scriptURL = 'https://script.google.com/macros/s/AKfycbwU6WY6Vax4jDq_7Rd_fbwkL6Y48FFR6MYSBSWVXJ0HGcwuRi4lxaLjDcqFWyd_RMoP/exec';
        const form = document.getElementById('signupForm');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            if (!validarpost()) return;

            const formData = new FormData(form);

            try {
                const response = await fetch(scriptURL, { method: 'POST', body: formData });
                if (response.ok) {
                    window.location.href = "thankyou.html";
                } else {
                    alert('Ocorreu um erro ao enviar os dados.');
                }
            } catch (error) {
                alert('Erro ao conectar-se ao servidor.');
                console.error(error);
            }
        });
    </script>
</body>
</html>
